---
layout:     post
title:      Gitee图床被禁
subtitle:   白嫖？难！
date:       2022-04-14
author:     就是我啦
header-img: img/post-bg-github-cup.jpg
catalog: 	  true
tags:
    - Gitee    
    - 图床    
---

# Gitee图床被禁

> Gitee开始防盗链
>
> 白嫖好难

Typora+Picgo+Gitee的组合还没happy几天，Gitee就要禁图床了。真心想问一下Gitee，你这是专门针对我的吗？

![image-20220414104747362](/img/images/image-20220414104747362.png)





## 1. 发生了什么

在处理之前，我们得搞清楚，为什么以前可以，现在就访问不了呢？

原因是Gitee服务端加了**「防盗链」**措施，通俗点说，就是防止你拿他来当图床使用，对图片请求校验了`referer`头信息；如果请求来自白名单的域名、ip，就放行，返回了正常的图片信息；如果是非白名单的域名或者没有`referer`参数发起的请求，就不响应或者重定向到一张错误的图片。

为了验证这一想法，我们通过postman人为添加一个`referer`，做一下测试：

![img](/img/images/89c818c363a1eb83fd8913a01eed789e.png)

如图所示，上面部分，没有任何响应，当请求头加了`referer`之后，就能正常获取到图片了；

Gitee本身就只是一个[代码托管](https://cloud.tencent.com/product/coding-cr?from=10680)服务器，从来没有说过可以做为图床使用，所以，加上防盗链没有任何的问题，我们也没必要去责备，只是来的有点突然，导致我们没有任何的心理准备。

> ❝姿势学到了吧！以后大家自己的产品有图片资源的时候，也完全可以用此方式来防止他人盗链，占用自己服务器的资源； ❞



## 2. 怎么办

知道了原因，处理办法也就清楚了。只能替换图床。

Github图床是个可替换选项，百度一下发现也有用七牛云的。可以试试。

就当前来说，我就还是用Gitee图床，但是链接改为本地的。





### 总结

- 学会怎么做防盗链

- 白嫖，就要随时防备被抓

- 想要免费的，就别想还要保障

  
